<!DOCTYPE html>
<html xmlns:th="www.thymeleaf.org">
<head>
<meta charset="utf-8">
<title>Join Select</title>
</head>
<body>
	<h1>Join 을 활용하여 Select 하기</h1>
	<!-- Mapper.xml 파일에 정상적으로 작동하는 Join 문을 
	     xml 파일에 ; 을 제외하고 그대로 추가하면 정상적으로 작동이 가능하다.
	     Select 는 SQL DB 에서 값을 정상적으로 가져오지 않더라도 오류가 발생하거나,
	     결과만 보이지 않을 뿐 왜 정상적으로 보여지지 않는지 알 수 없으므로,
	     Controller 에서 Slf4j 어노테이션과 dto 에서 ToString 어노테이션을 사용하여
	     값을 정상적으로 가져오고 있는 것이 맞는지 확인할 수 있다. -->
	<table border="1">
		<thead>
			<tr>
				<th>과자 이름</th>
				<th>과자 가격</th>
				<th>회사 이름</th>
				<th>전화 번호</th>
				<th>회사 주소</th>
				<th>과자 상세 보기</th>
				<th>회사 상세 보기</th>
			</tr>
		</thead>
		<tbody>
			<tr th:each="sac : ${snackAndCompany}">
				<td th:text="${sac.snack_name}"></td>
				<td th:text="${sac.snack_price}"></td>
				<td th:text="${sac.company_name}"></td>
				<td th:text="${sac.company_phone}"></td>
				<td th:text="${sac.company_address}"></td>
				<td>
					<a th:href="@{'/snack/' + ${sac.snack_id}}">과자 상세 보기</a>
					<!-- SQL 에서, 시작하는 id 값은 1 인데, URL 에서는 0 이 나온다면
					     값을 제대로 가져오지 못한 것이다.
					     0 == null -->
				</td>
				<td>
					<a th:href="@{'/company/' + ${sac.company_id}}">회사 상세 보기</a>
				</td>
			</tr>
		</tbody>
	</table>
</body>
</html>